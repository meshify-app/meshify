{"version":3,"sources":["webpack:///./src/views/Server.vue?2a31","webpack:///./src/components/Server.vue?303a","webpack:///src/components/Server.vue","webpack:///./src/components/Server.vue?7c72","webpack:///./src/components/Server.vue","webpack:///src/views/Server.vue","webpack:///./src/views/Server.vue?7654","webpack:///./src/views/Server.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticRenderFns","attrs","_v","staticClass","model","value","server","callback","$$v","$set","expression","v","scopedSlots","_u","key","fn","ref","item","select","selected","_b","on","$event","address","splice","indexOf","_s","applyGlobals","dns","allowedips","forceFileDownload","update","_e","component","VBtn","VCard","VCardTitle","VChip","VCol","VCombobox","VContainer","VDivider","VIcon","VRow","VSpacer","VTextField","VContent"],"mappings":"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","file":"js/Server.1d2011ab.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-content',[_c('Server')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.server)?_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',{attrs:{\"dark\":\"\"}},[_c('v-card-title',[_vm._v(\" Server's interface configuration \")]),_c('div',{staticClass:\"d-flex flex-no-wrap justify-space-between\"},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"Public key\",\"disabled\":\"\"},model:{value:(_vm.server.publicKey),callback:function ($$v) {_vm.$set(_vm.server, \"publicKey\", $$v)},expression:\"server.publicKey\"}}),_c('v-text-field',{attrs:{\"type\":\"number\",\"rules\":[\n                      function (v) { return !!v || 'Listen port is required'; } ],\"label\":\"Listen port\",\"required\":\"\"},model:{value:(_vm.server.listenPort),callback:function ($$v) {_vm.$set(_vm.server, \"listenPort\", $$v)},expression:\"server.listenPort\"}}),_c('v-combobox',{attrs:{\"chips\":\"\",\"hint\":\"Write IPv4 or IPv6 CIDR and hit enter\",\"label\":\"Server interface addresses\",\"multiple\":\"\",\"dark\":\"\"},scopedSlots:_vm._u([{key:\"selection\",fn:function(ref){\n                    var attrs = ref.attrs;\n                    var item = ref.item;\n                    var select = ref.select;\n                    var selected = ref.selected;\nreturn [_c('v-chip',_vm._b({attrs:{\"input-value\":selected,\"close\":\"\"},on:{\"click\":select,\"click:close\":function($event){_vm.server.address.splice(_vm.server.address.indexOf(item), 1)}}},'v-chip',attrs,false),[_c('strong',[_vm._v(_vm._s(item))])])]}}],null,false,4276791991),model:{value:(_vm.server.address),callback:function ($$v) {_vm.$set(_vm.server, \"address\", $$v)},expression:\"server.address\"}})],1)],1)],1)],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',{attrs:{\"dark\":\"\"}},[_c('v-card-title',[_vm._v(\" Client's global configuration \"),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"warning\"},on:{\"click\":_vm.applyGlobals}},[_vm._v(\" Apply globals to all clients \"),_c('v-icon',{attrs:{\"right\":\"\",\"dark\":\"\"}},[_vm._v(\"mdi-update\")])],1)],1),_c('div',{staticClass:\"d-flex flex-no-wrap justify-space-between\"},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"Public endpoint for clients to connect to\",\"rules\":[\n                      function (v) { return !!v || 'Public endpoint for clients to connect to is required'; } ],\"required\":\"\"},model:{value:(_vm.server.endpoint),callback:function ($$v) {_vm.$set(_vm.server, \"endpoint\", $$v)},expression:\"server.endpoint\"}}),_c('v-combobox',{attrs:{\"chips\":\"\",\"hint\":\"Write IPv4 or IPv6 address and hit enter\",\"label\":\"DNS servers for clients\",\"multiple\":\"\",\"dark\":\"\"},scopedSlots:_vm._u([{key:\"selection\",fn:function(ref){\n                    var attrs = ref.attrs;\n                    var item = ref.item;\n                    var select = ref.select;\n                    var selected = ref.selected;\nreturn [_c('v-chip',_vm._b({attrs:{\"input-value\":selected,\"close\":\"\"},on:{\"click\":select,\"click:close\":function($event){_vm.server.dns.splice(_vm.server.dns.indexOf(item), 1)}}},'v-chip',attrs,false),[_c('strong',[_vm._v(_vm._s(item))])])]}}],null,false,2528479799),model:{value:(_vm.server.dns),callback:function ($$v) {_vm.$set(_vm.server, \"dns\", $$v)},expression:\"server.dns\"}}),_c('v-combobox',{attrs:{\"chips\":\"\",\"hint\":\"Write IPv4 or IPv6 address and hit enter\",\"label\":\"Default Allowed IPs for clients\",\"multiple\":\"\",\"dark\":\"\"},scopedSlots:_vm._u([{key:\"selection\",fn:function(ref){\n                    var attrs = ref.attrs;\n                    var item = ref.item;\n                    var select = ref.select;\n                    var selected = ref.selected;\nreturn [_c('v-chip',_vm._b({attrs:{\"input-value\":selected,\"close\":\"\"},on:{\"click\":select,\"click:close\":function($event){_vm.server.allowedips.splice(_vm.server.allowedips.indexOf(item), 1)}}},'v-chip',attrs,false),[_c('strong',[_vm._v(_vm._s(item))])])]}}],null,false,3703533655),model:{value:(_vm.server.allowedips),callback:function ($$v) {_vm.$set(_vm.server, \"allowedips\", $$v)},expression:\"server.allowedips\"}}),_c('v-text-field',{attrs:{\"type\":\"number\",\"label\":\"Define global MTU\",\"hint\":\"Leave at 0 and let wg-quick take care of MTU\"},model:{value:(_vm.server.mtu),callback:function ($$v) {_vm.$set(_vm.server, \"mtu\", $$v)},expression:\"server.mtu\"}}),_c('v-text-field',{attrs:{\"type\":\"number\",\"label\":\"Persistent keepalive\",\"hint\":\"Leave at 0 if you dont want to specify persistent keepalive\"},model:{value:(_vm.server.persistentKeepalive),callback:function ($$v) {_vm.$set(_vm.server, \"persistentKeepalive\", $$v)},expression:\"server.persistentKeepalive\"}})],1)],1)],1)],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',{attrs:{\"dark\":\"\"}},[_c('v-card-title',[_vm._v(\" Interface configuration hooks \")]),_c('div',{staticClass:\"d-flex flex-no-wrap justify-space-between\"},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"PreUp: script snippets which will be executed by bash before setting up the interface\"},model:{value:(_vm.server.preUp),callback:function ($$v) {_vm.$set(_vm.server, \"preUp\", $$v)},expression:\"server.preUp\"}}),_c('v-text-field',{attrs:{\"label\":\"PostUp: script snippets which will be executed by bash after setting up the interface\"},model:{value:(_vm.server.postUp),callback:function ($$v) {_vm.$set(_vm.server, \"postUp\", $$v)},expression:\"server.postUp\"}}),_c('v-text-field',{attrs:{\"label\":\"PreDown: script snippets which will be executed by bash before setting down the interface\"},model:{value:(_vm.server.preDown),callback:function ($$v) {_vm.$set(_vm.server, \"preDown\", $$v)},expression:\"server.preDown\"}}),_c('v-text-field',{attrs:{\"label\":\"PostDown : script snippets which will be executed by bash after setting down the interface\"},model:{value:(_vm.server.postDown ),callback:function ($$v) {_vm.$set(_vm.server, \"postDown\", $$v)},expression:\"server.postDown \"}})],1)],1)],1)],1)],1),_c('v-row',[_c('v-divider',{attrs:{\"dark\":\"\"}}),_c('v-btn',{staticClass:\"ma-2\",attrs:{\"color\":\"success\"},on:{\"click\":function($event){return _vm.forceFileDownload()}}},[_vm._v(\" Download server configuration \"),_c('v-icon',{attrs:{\"right\":\"\",\"dark\":\"\"}},[_vm._v(\"mdi-cloud-download-outline\")])],1),_c('v-spacer'),_c('v-btn',{staticClass:\"ma-2\",attrs:{\"color\":\"warning\"},on:{\"click\":_vm.update}},[_vm._v(\" Update server configuration \"),_c('v-icon',{attrs:{\"right\":\"\",\"dark\":\"\"}},[_vm._v(\"mdi-update\")])],1),_c('v-divider',{attrs:{\"dark\":\"\"}})],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-container v-if=\"server\">\n        <v-row>\n            <v-col cols=\"12\">\n                <v-card dark>\n                    <v-card-title>\n                        Server's interface configuration\n                    </v-card-title>\n                    <div class=\"d-flex flex-no-wrap justify-space-between\">\n                        <v-col cols=\"12\">\n                            <v-text-field\n                                    v-model=\"server.publicKey\"\n                                    label=\"Public key\"\n                                    disabled\n                            />\n                            <v-text-field\n                                    v-model=\"server.listenPort\"\n                                    type=\"number\"\n                                    :rules=\"[\n                          v => !!v || 'Listen port is required',\n                        ]\"\n                                    label=\"Listen port\"\n                                    required\n                            />\n                            <v-combobox\n                                    v-model=\"server.address\"\n                                    chips\n                                    hint=\"Write IPv4 or IPv6 CIDR and hit enter\"\n                                    label=\"Server interface addresses\"\n                                    multiple\n                                    dark\n                            >\n                                <template v-slot:selection=\"{ attrs, item, select, selected }\">\n                                    <v-chip\n                                            v-bind=\"attrs\"\n                                            :input-value=\"selected\"\n                                            close\n                                            @click=\"select\"\n                                            @click:close=\"server.address.splice(server.address.indexOf(item), 1)\"\n                                    >\n                                        <strong>{{ item }}</strong>&nbsp;\n                                    </v-chip>\n                                </template>\n                            </v-combobox>\n                        </v-col>\n                    </div>\n                </v-card>\n            </v-col>\n            <v-col cols=\"12\">\n                <v-card dark>\n                    <v-card-title>\n                        Client's global configuration\n                        <v-spacer></v-spacer>\n                        <v-btn\n                                color=\"warning\"\n                                @click=\"applyGlobals\"\n                        >\n                            Apply globals to all clients\n                            <v-icon right dark>mdi-update</v-icon>\n                        </v-btn>\n                    </v-card-title>\n                    <div class=\"d-flex flex-no-wrap justify-space-between\">\n                        <v-col cols=\"12\">\n                            <v-text-field\n                                    v-model=\"server.endpoint\"\n                                    label=\"Public endpoint for clients to connect to\"\n                                    :rules=\"[\n                          v => !!v || 'Public endpoint for clients to connect to is required',\n                        ]\"\n                                    required\n                            />\n                            <v-combobox\n                                    v-model=\"server.dns\"\n                                    chips\n                                    hint=\"Write IPv4 or IPv6 address and hit enter\"\n                                    label=\"DNS servers for clients\"\n                                    multiple\n                                    dark\n                            >\n                                <template v-slot:selection=\"{ attrs, item, select, selected }\">\n                                    <v-chip\n                                            v-bind=\"attrs\"\n                                            :input-value=\"selected\"\n                                            close\n                                            @click=\"select\"\n                                            @click:close=\"server.dns.splice(server.dns.indexOf(item), 1)\"\n                                    >\n                                        <strong>{{ item }}</strong>&nbsp;\n                                    </v-chip>\n                                </template>\n                            </v-combobox>\n                            <v-combobox\n                                    v-model=\"server.allowedips\"\n                                    chips\n                                    hint=\"Write IPv4 or IPv6 address and hit enter\"\n                                    label=\"Default Allowed IPs for clients\"\n                                    multiple\n                                    dark\n                            >\n                                <template v-slot:selection=\"{ attrs, item, select, selected }\">\n                                    <v-chip\n                                            v-bind=\"attrs\"\n                                            :input-value=\"selected\"\n                                            close\n                                            @click=\"select\"\n                                            @click:close=\"server.allowedips.splice(server.allowedips.indexOf(item), 1)\"\n                                    >\n                                        <strong>{{ item }}</strong>&nbsp;\n                                    </v-chip>\n                                </template>\n                            </v-combobox>\n                            <v-text-field\n                                    type=\"number\"\n                                    v-model=\"server.mtu\"\n                                    label=\"Define global MTU\"\n                                    hint=\"Leave at 0 and let wg-quick take care of MTU\"\n                            />\n                            <v-text-field\n                                    type=\"number\"\n                                    v-model=\"server.persistentKeepalive\"\n                                    label=\"Persistent keepalive\"\n                                    hint=\"Leave at 0 if you dont want to specify persistent keepalive\"\n                            />\n                        </v-col>\n                    </div>\n                </v-card>\n            </v-col>\n        </v-row>\n        <v-row>\n            <v-col cols=\"12\">\n                <v-card dark>\n                    <v-card-title>\n                        Interface configuration hooks\n                    </v-card-title>\n                    <div class=\"d-flex flex-no-wrap justify-space-between\">\n                        <v-col cols=\"12\">\n                            <v-text-field\n                                    v-model=\"server.preUp\"\n                                    label=\"PreUp: script snippets which will be executed by bash before setting up the interface\"\n                            />\n                            <v-text-field\n                                    v-model=\"server.postUp\"\n                                    label=\"PostUp: script snippets which will be executed by bash after setting up the interface\"\n                            />\n                            <v-text-field\n                                    v-model=\"server.preDown\"\n                                    label=\"PreDown: script snippets which will be executed by bash before setting down the interface\"\n                            />\n                            <v-text-field\n                                    v-model=\"server.postDown \"\n                                    label=\"PostDown : script snippets which will be executed by bash after setting down the interface\"\n                            />\n                        </v-col>\n                    </div>\n                </v-card>\n            </v-col>\n        </v-row>\n        <v-row>\n            <v-divider dark/>\n            <v-btn\n                    class=\"ma-2\"\n                    color=\"success\"\n                    v-on:click=\"forceFileDownload()\"\n            >\n                Download server configuration\n                <v-icon right dark>mdi-cloud-download-outline</v-icon>\n            </v-btn>\n            <v-spacer></v-spacer>\n            <v-btn\n                    class=\"ma-2\"\n                    color=\"warning\"\n                    @click=\"update\"\n            >\n                Update server configuration\n                <v-icon right dark>mdi-update</v-icon>\n            </v-btn>\n            <v-divider dark/>\n        </v-row>\n    </v-container>\n</template>\n<script>\n  import {mapActions, mapGetters} from \"vuex\";\n\n  export default {\n    name: 'Server',\n\n    data: () => ({\n\n    }),\n\n    computed:{\n      ...mapGetters({\n        server: 'server/server',\n        config: 'server/config',\n        clients: 'client/clients',\n      }),\n    },\n\n    mounted () {\n      this.readServer()\n    },\n\n    methods: {\n      ...mapActions('server', {\n        errorServer: 'error',\n        readServer: 'read',\n        updateServer: 'update',\n      }),\n\n      ...mapActions('client', {\n        updateClient: 'update',\n      }),\n\n      applyGlobals(){\n        this.update()\n\n        this.clients.forEach(client => {\n          client.allowedips = this.server.allowedips\n          this.updateClient(client)\n        })\n      },\n\n      update() {\n        // convert int values\n        this.server.listenPort = parseInt(this.server.listenPort, 10);\n        this.server.persistentKeepalive = parseInt(this.server.persistentKeepalive, 10);\n        this.server.mtu = parseInt(this.server.mtu, 10);\n\n        // check server addresses\n        if (this.server.address.length < 1) {\n          this.errorServer('Please provide at least one valid CIDR address for server interface');\n          return;\n        }\n        for (let i = 0; i < this.server.address.length; i++){\n          if (this.$isCidr(this.server.address[i]) === 0) {\n            this.errorServer(`Invalid CIDR detected, please correct ${this.server.address[i]} before submitting`);\n            return\n          }\n        }\n\n        // check DNS correct\n        for (let i = 0; i < this.server.dns.length; i++){\n          if (this.$isCidr(this.server.dns[i] + '/32') === 0) {\n            this.errorServer(`Invalid IP detected, please correct ${this.server.dns[i]} before submitting`);\n            return\n          }\n        }\n\n        // check client AllowedIPs\n        if (this.server.allowedips.length < 1) {\n          this.errorServer('Please provide at least one valid CIDR address for client allowed IPs');\n          return;\n        }\n        for (let i = 0; i < this.server.allowedips.length; i++){\n          if (this.$isCidr(this.server.allowedips[i]) === 0) {\n            this.errorServer('Invalid CIDR detected, please correct before submitting');\n            return\n          }\n        }\n\n        this.updateServer(this.server)\n      },\n\n      forceFileDownload(){\n        const url = window.URL.createObjectURL(new Blob([this.config]))\n        const link = document.createElement('a')\n        link.href = url\n        link.setAttribute('download', 'wg0.conf') //or any other extension\n        document.body.appendChild(link)\n        link.click()\n      },\n    }\n  };\n</script>\n","import mod from \"-!../../node_modules/vuetify-loader/lib/loader.js??ref--16-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Server.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vuetify-loader/lib/loader.js??ref--16-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Server.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Server.vue?vue&type=template&id=3b557fea&\"\nimport script from \"./Server.vue?vue&type=script&lang=js&\"\nexport * from \"./Server.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardTitle,VChip,VCol,VCombobox,VContainer,VDivider,VIcon,VRow,VSpacer,VTextField})\n","<template>\n    <v-content>\n        <Server/>\n    </v-content>\n</template>\n\n<script>\n  import Server from '../components/Server'\n\n  export default {\n    name: 'server',\n    components: {\n      Server\n    }\n  }\n</script>\n","import mod from \"-!../../node_modules/vuetify-loader/lib/loader.js??ref--16-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Server.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vuetify-loader/lib/loader.js??ref--16-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Server.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Server.vue?vue&type=template&id=2f581787&\"\nimport script from \"./Server.vue?vue&type=script&lang=js&\"\nexport * from \"./Server.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContent } from 'vuetify/lib/components/VContent';\ninstallComponents(component, {VContent})\n"],"sourceRoot":""}