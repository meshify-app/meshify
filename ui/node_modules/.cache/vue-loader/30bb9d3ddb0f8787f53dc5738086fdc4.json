{"remainingRequest":"/home/alangrah/go/src/wg-gen-web/ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/alangrah/go/src/wg-gen-web/ui/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/alangrah/go/src/wg-gen-web/ui/src/App.vue","mtime":1598152476762},{"path":"/home/alangrah/go/src/wg-gen-web/ui/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/alangrah/go/src/wg-gen-web/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alangrah/go/src/wg-gen-web/ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBOb3RpZmljYXRpb24gZnJvbSAnLi9jb21wb25lbnRzL05vdGlmaWNhdGlvbicKaW1wb3J0IEhlYWRlciBmcm9tICIuL2NvbXBvbmVudHMvSGVhZGVyIjsKaW1wb3J0IEZvb3RlciBmcm9tICIuL2NvbXBvbmVudHMvRm9vdGVyIjsKaW1wb3J0IHttYXBBY3Rpb25zLCBtYXBHZXR0ZXJzfSBmcm9tICJ2dWV4IjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXBwJywKCiAgY29tcG9uZW50czogewogICAgRm9vdGVyLAogICAgSGVhZGVyLAogICAgTm90aWZpY2F0aW9uCiAgfSwKCiAgZGF0YTogKCkgPT4gKHsKICAgIG5vdGlmaWNhdGlvbjogewogICAgICBzaG93OiBmYWxzZSwKICAgICAgY29sb3I6ICcnLAogICAgICB0ZXh0OiAnJywKICAgIH0sCiAgfSksCgogIGNvbXB1dGVkOnsKICAgIC4uLm1hcEdldHRlcnMoewogICAgICBpc0F1dGhlbnRpY2F0ZWQ6ICdhdXRoL2lzQXV0aGVudGljYXRlZCcsCiAgICAgIGF1dGhTdGF0dXM6ICdhdXRoL2F1dGhTdGF0dXMnLAogICAgICBhdXRoUmVkaXJlY3RVcmw6ICdhdXRoL2F1dGhSZWRpcmVjdFVybCcsCiAgICAgIGF1dGhFcnJvcjogJ2F1dGgvZXJyb3InLAogICAgICBjbGllbnRFcnJvcjogJ2NsaWVudC9lcnJvcicsCiAgICAgIHNlcnZlckVycm9yOiAnc2VydmVyL2Vycm9yJywKICAgIH0pCiAgfSwKCiAgY3JlYXRlZCAoKSB7CiAgICB0aGlzLiR2dWV0aWZ5LnRoZW1lLmRhcmsgPSB0cnVlCiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5jb2RlICYmIHRoaXMuJHJvdXRlLnF1ZXJ5LnN0YXRlKSB7CiAgICAgIHRoaXMub2F1dGgyX2V4Y2hhbmdlKHsKICAgICAgICBjb2RlOiB0aGlzLiRyb3V0ZS5xdWVyeS5jb2RlLAogICAgICAgIHN0YXRlOiB0aGlzLiRyb3V0ZS5xdWVyeS5zdGF0ZQogICAgICB9KQogICAgfSBlbHNlIHsKICAgICAgdGhpcy5vYXV0aDJfdXJsKCkKICAgIH0KICB9LAoKICB3YXRjaDogewogICAgYXV0aEVycm9yKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgewogICAgICBjb25zb2xlLmxvZyhuZXdWYWx1ZSkKICAgICAgdGhpcy5ub3RpZnkoJ2Vycm9yJywgbmV3VmFsdWUpOwogICAgfSwKCiAgICBjbGllbnRFcnJvcihuZXdWYWx1ZSwgb2xkVmFsdWUpIHsKICAgICAgY29uc29sZS5sb2cobmV3VmFsdWUpCiAgICAgIHRoaXMubm90aWZ5KCdlcnJvcicsIG5ld1ZhbHVlKTsKICAgIH0sCgogICAgc2VydmVyRXJyb3IobmV3VmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgIGNvbnNvbGUubG9nKG5ld1ZhbHVlKQogICAgICB0aGlzLm5vdGlmeSgnZXJyb3InLCBuZXdWYWx1ZSk7CiAgICB9LAoKICAgIGlzQXV0aGVudGljYXRlZChuZXdWYWx1ZSwgb2xkVmFsdWUpIHsKICAgICAgY29uc29sZS5sb2coYFVwZGF0aW5nIGlzQXV0aGVudGljYXRlZCBmcm9tICR7b2xkVmFsdWV9IHRvICR7bmV3VmFsdWV9YCk7CiAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvY2xpZW50cycpCiAgICAgIH0KICAgIH0sCgogICAgYXV0aFN0YXR1cyhuZXdWYWx1ZSwgb2xkVmFsdWUpIHsKICAgICAgY29uc29sZS5sb2coYFVwZGF0aW5nIGF1dGhTdGF0dXMgZnJvbSAke29sZFZhbHVlfSB0byAke25ld1ZhbHVlfWApOwogICAgICBpZiAobmV3VmFsdWUgPT09ICdyZWRpcmVjdCcpIHsKICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSh0aGlzLmF1dGhSZWRpcmVjdFVybCkKICAgICAgfQogICAgfSwKICB9LAoKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKCdhdXRoJywgewogICAgICBvYXV0aDJfZXhjaGFuZ2U6ICdvYXV0aDJfZXhjaGFuZ2UnLAogICAgICBvYXV0aDJfdXJsOiAnb2F1dGgyX3VybCcsCiAgICB9KSwKCiAgICBub3RpZnkoY29sb3IsIG1zZykgewogICAgICB0aGlzLm5vdGlmaWNhdGlvbi5zaG93ID0gdHJ1ZTsKICAgICAgdGhpcy5ub3RpZmljYXRpb24uY29sb3IgPSBjb2xvcjsKICAgICAgdGhpcy5ub3RpZmljYXRpb24udGV4dCA9IG1zZzsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <v-app id=\"inspire\">\n    <Notification v-bind:notification=\"notification\"/>\n    <div v-if=\"this.isAuthenticated\">\n      <Header/>\n\n      <v-content>\n        <v-container>\n          <router-view />\n        </v-container>\n      </v-content>\n\n      <Footer/>\n    </div>\n  </v-app>\n</template>\n\n<script>\n  import Notification from './components/Notification'\n  import Header from \"./components/Header\";\n  import Footer from \"./components/Footer\";\n  import {mapActions, mapGetters} from \"vuex\";\n\n  export default {\n    name: 'App',\n\n    components: {\n      Footer,\n      Header,\n      Notification\n    },\n\n    data: () => ({\n      notification: {\n        show: false,\n        color: '',\n        text: '',\n      },\n    }),\n\n    computed:{\n      ...mapGetters({\n        isAuthenticated: 'auth/isAuthenticated',\n        authStatus: 'auth/authStatus',\n        authRedirectUrl: 'auth/authRedirectUrl',\n        authError: 'auth/error',\n        clientError: 'client/error',\n        serverError: 'server/error',\n      })\n    },\n\n    created () {\n      this.$vuetify.theme.dark = true\n    },\n\n    mounted() {\n      if (this.$route.query.code && this.$route.query.state) {\n        this.oauth2_exchange({\n          code: this.$route.query.code,\n          state: this.$route.query.state\n        })\n      } else {\n        this.oauth2_url()\n      }\n    },\n\n    watch: {\n      authError(newValue, oldValue) {\n        console.log(newValue)\n        this.notify('error', newValue);\n      },\n\n      clientError(newValue, oldValue) {\n        console.log(newValue)\n        this.notify('error', newValue);\n      },\n\n      serverError(newValue, oldValue) {\n        console.log(newValue)\n        this.notify('error', newValue);\n      },\n\n      isAuthenticated(newValue, oldValue) {\n        console.log(`Updating isAuthenticated from ${oldValue} to ${newValue}`);\n        if (newValue === true) {\n          this.$router.push('/clients')\n        }\n      },\n\n      authStatus(newValue, oldValue) {\n        console.log(`Updating authStatus from ${oldValue} to ${newValue}`);\n        if (newValue === 'redirect') {\n          window.location.replace(this.authRedirectUrl)\n        }\n      },\n    },\n\n    methods: {\n      ...mapActions('auth', {\n        oauth2_exchange: 'oauth2_exchange',\n        oauth2_url: 'oauth2_url',\n      }),\n\n      notify(color, msg) {\n        this.notification.show = true;\n        this.notification.color = color;\n        this.notification.text = msg;\n      }\n    }\n  };\n</script>\n"]}]}